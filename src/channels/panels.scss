/* CHANNEL LIST PANELS */
%panels {
  background: transparent;
  > :first-child {
    box-shadow: 0 -2px 10px rgba(0, 0, 0, calc(#{cv('bg.app.shading')} * 0.3));
  }
}
%themeDark %panel {
  background-color: transparent;
}

// ACCOUNT & CONNECTION PANELS
%accountPanel {
  > %flex {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 15px;
    > :nth-child(n + 2) {
      position: relative;
      margin-left: -1px;
      &:before {
        content: '';
        position: absolute;
        left: 0;
        top: 2px;
        bottom: 2px;
        width: 1px;
        background: hsla(0, 0%, 100%, 0.2);
      }
    }
  }
}

// BUTTONS
button%panelButton {
  width: 32px;
  height: 32px;
  opacity: 1;
  > %buttonContents > svg {
    @include bg($rep: no-repeat, $pos: center, $size: 18px);
    color: var(--text-normal);
    opacity: 0.5;
    transition: all 0.1s ease-in-out;
    > path[fill*='var(--interactive-normal)'] {
      fill: var(--text-normal);
    }
  }
  &:hover {
    &%panelButtonEnabled {
      background: transparent;
    }
    > %buttonContents > svg {
      opacity: 0.7;
    }
  }
  &%panelButtonDisabled {
    > %buttonContents > svg {
      opacity: 0.1;
    }
  }
}
%panelActionButtons {
  grid-gap: 6px;
}
%panelActionButton {
  &%panelActionButtonColor {
    padding: 0;
    &%panelActionButtonActive {
      background-color: #fff;
      color: $main-color;
      &:hover {
        background: hsla(0, 0%, 100%, 0.95);
        color: $hover-color;
      }
    }
  }
}

// ACCOUNT PANEL
%themeDark %accountPanel {
  position: relative;
  background: transparent;
  // SOME POSITIONING
  %accountPanelTagButton,
  %accountPanelTagless {
    min-width: calc(100% - 100px);
    width: auto;
    &:hover {
      background-color: var(--backdrop-overlay);
      color: var(--text-normal);
    }
  }
  // AVATAR
  %accountPanelAvatar {
    width: 32px !important;
    height: 32px !important;
    transition: all 0.15s ease-in-out;
    &:after {
      content: 'Status';
      position: absolute;
      @include stretch;
      color: var(--text-normal);
      font-size: 5px;
      font-weight: 700;
      text-align: center;
      line-height: 32px;
      text-transform: uppercase;
      opacity: 0;
      transition: all 0.15s ease-in-out;
      pointer-events: none;
    }
    foreignObject {
      transition: all 0.15s ease-in-out;
    }
    &:hover {
      opacity: 1;
      &:after {
        font-size: 10px;
        opacity: 1;
      }
      foreignObject {
        opacity: 0.5;
      }
    }
  }
  // NAME TAG
  %accountPanelUsername {
    color: var(--text-normal);
  }
  %accountPanelDiscriminator {
    color: var(--text-normal);
  }
}

// CONNECTION PANEL
%connectionPanel {
  > %flex {
    background: var(--backdrop-overlay);
    border-radius: 5px;
    padding: 5px;
  }
  border-color: transparent;
  background: transparent;
  %connectionPanelInner {
    %rtcConnectionStatus {
      %rtcConnectionPing {
        width: 16px;
        height: 16px;
        margin-right: 3px;
        background-size: 16px;
      }
    }
  }
  %connectionPanelChannel {
    color: var(--text-normal);
    transition: all 0.15s ease-in-out;
    &:hover {
      color: var(--text-normal);
      text-decoration: none;
    }
  }
}

// ACTIVITY PANEL
%activityPanel {
  border-color: transparent;
  %activityPanelActions {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 15px;
    > :nth-child(n + 2) {
      position: relative;
      margin-left: -1px;
      &:before {
        content: '';
        position: absolute;
        left: 0;
        top: 2px;
        bottom: 2px;
        width: 1px;
        background: var(--backdrop-overlay);
      }
    }
  }
}

// VIDEO BADGE
%panelLiveBadge {
  background-color: $main-color;
}

// NOISE CANCELLATION POPOUT
%noiseCancellationPopout {
  background-color: var(--backdrop-overlay);
}
